(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{10:function(e,n,t){},12:function(e,n,t){"use strict";t.r(n);var c=t(2),i=t.n(c),a=t(5),s=t.n(a),r=t(3),u=(t(10),t(1)),o=t.p+"static/media/flag.e33017d2.png",d=t.p+"static/media/mine.7e901939.png",j=function(e,n){var t=n*n;return[-n-1,-n,1-n,-1,0,1,n-1,n,n+1].map((function(c){var i=c+e;return i<0||i>=t||i===e||(e+1)%n===0&&i%n===0||e%n===0&&(i+1)%n===0?null:i})).filter((function(e){return null!==e}))},f=t(0),l=function(e){var n=e.tile,t=e.updateTileMap,c=e.tileMap,i=e.index,a=e.setFoundedMines,s=e.foundedMines,r=function(e,n){e.preventDefault();var r=function(e){return Object(u.a)(Object(u.a)({},e),{},{hasFlag:!e.hasFlag})}(n),o=c.slice();o.splice(i,1,r),t(o),n.hasMine&&a(s+1)},l=function(e){var n=c.slice();if(e.hasMine)!function(e,n){n(e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{faceDown:!1})})))}(c,t);else{var a=function(e,n){if(!e[n].faceDown)return e;var t=[];for(t.push(Object(u.a)(Object(u.a)({},e[n]),{},{index:n}));0!==t.length;){var c=t.pop();if(c.faceDown){var i=Object(u.a)(Object(u.a)({},e[c.index]),{},{faceDown:!1});e.splice(c.index,1,i),c.faceDown=!1}if(0!==c.minesAround)break;j(c.index,10).forEach((function(n){if(0===e[n].minesAround&&e[n].faceDown&&t.push(Object(u.a)(Object(u.a)({},e[n]),{},{index:n})),e[n].faceDown){var c=Object(u.a)(Object(u.a)({},e[n]),{},{faceDown:!1});e.splice(n,1,c)}}))}return e}(n,i);t(a)}};return Object(f.jsx)("div",{onClick:function(){return l(n)},onContextMenu:function(e){return r(e,n)},className:n.faceDown?"faceDown":"visible",children:Object(f.jsx)("div",{className:"square",children:n.faceDown?n.hasFlag?Object(f.jsx)("img",{src:o,height:"30",width:"30"}):null:n.hasMine?Object(f.jsx)("img",{src:d,height:"30",width:"30"}):n.minesAround>0?Object(f.jsx)("span",{children:n.minesAround}):null})})},b=function(e){var n=e.newGame,t=e.setNewGame,i=e.foundedMines,a=e.setFoundedMines,s=Object(c.useState)([]),o=Object(r.a)(s,2),d=o[0],b=o[1],O=function(){var e=[],n={faceDown:!0,hasMine:!1,hasFlag:!1,minesAround:0},c=new Array(100).fill(n);for(t(!1);e.length<10;)e.push(Math.floor(100*Math.random()));return e.filter((function(e,n,t){return t.indexOf(e)===n})).forEach((function(e){var t=j(e,10);c[e]=Object(u.a)(Object(u.a)({},n),{},{hasMine:!0}),t.forEach((function(e){c[e]=Object(u.a)(Object(u.a)({},c[e]),{},{minesAround:c[e].minesAround+1})}))})),c};return Object(c.useEffect)((function(){b(O())}),[]),Object(c.useEffect)((function(){n&&(b(O()),a(0))}),[n]),Object(f.jsx)("div",{children:Object(f.jsx)("section",{className:"grid",style:{"--size":10},children:d.map((function(e,n){return Object(f.jsx)(l,{index:n,tile:e,updateTileMap:b,tileMap:d,setFoundedMines:a,foundedMines:i},n)}))})})},O=function(e){var n=e.setNewGame,t=e.foundedMines;return Object(f.jsxs)("section",{className:"header",children:[Object(f.jsx)("div",{className:"minesCounter",children:Object(f.jsx)("span",{children:t})}),Object(f.jsx)("div",{className:"emojiPlace",children:Object(f.jsx)("span",{children:10===t?"\ud83d\ude0e":"\ud83e\udd14"})}),Object(f.jsx)("div",{className:"buttonContainer",children:Object(f.jsx)("button",{onClick:function(){return n(!0)},children:"New Game!"})})]})};var h=function(){var e=Object(c.useState)(!1),n=Object(r.a)(e,2),t=n[0],i=n[1],a=Object(c.useState)(0),s=Object(r.a)(a,2),u=s[0],o=s[1];return Object(f.jsx)("main",{children:Object(f.jsxs)("div",{className:"gameContainer",children:[Object(f.jsx)("h1",{children:"MINESWEEPER"}),Object(f.jsx)(O,{newGame:t,setNewGame:i,foundedMines:u}),Object(f.jsx)(b,{newGame:t,setNewGame:i,setFoundedMines:o,foundedMines:u})]})})};s.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(h,{})}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.e80cd245.chunk.js.map